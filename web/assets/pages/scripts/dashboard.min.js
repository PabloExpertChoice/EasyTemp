var Dashboard=function() {
    return {
        initJQVMAP:function() {
            if(jQuery().vectorMap) {
                var e=function(e) {
                    jQuery(".vmaps").hide(),
                    jQuery("#vmap_"+e).show()
                }
                ,
                t=function(e) {
                    var t=jQuery("#vmap_"+e);
                    if(1===t.size()) {
                        var a= {
                            map:"world_en",
                            backgroundColor:null,
                            borderColor:"#333333",
                            borderOpacity:.5,
                            borderWidth:1,
                            color:"#c6c6c6",
                            enableZoom:!0,
                            hoverColor:"#c9dfaf",
                            hoverOpacity:null,
                            values:sample_data,
                            normalizeFunction:"linear",
                            scaleColors:["#b6da93",
                            "#909cae"],
                            selectedColor:"#c9dfaf",
                            selectedRegion:null,
                            showTooltip:!0,
                            onLabelShow:function(e, t, a) {}
                            ,
                            onRegionOver:function(e, t) {
                                "ca"==t&&e.preventDefault()
                            }
                            ,
                            onRegionClick:function(e, t, a) {
                                var i='You clicked "'+a+'" which has the code: '+t.toUpperCase();
                                alert(i)
                            }
                        }
                        ;
                        a.map=e+"_en",
                        t.width(t.parent().parent().width()),
                        t.show(),
                        t.vectorMap(a),
                        t.hide()
                    }
                }
                ;
                t("world"),
                t("usa"),
                t("europe"),
                t("russia"),
                t("germany"),
                e("world"),
                jQuery("#regional_stat_world").click(function() {
                    e("world")
                }
                ),
                jQuery("#regional_stat_usa").click(function() {
                    e("usa")
                }
                ),
                jQuery("#regional_stat_europe").click(function() {
                    e("europe")
                }
                ),
                jQuery("#regional_stat_russia").click(function() {
                    e("russia")
                }
                ),
                jQuery("#regional_stat_germany").click(function() {
                    e("germany")
                }
                ),
                $("#region_statistics_loading").hide(),
                $("#region_statistics_content").show(),
                App.addResizeHandler(function() {
                    jQuery(".vmaps").each(function() {
                        var e=jQuery(this);
                        e.width(e.parent().width())
                    }
                    )
                }
                )
            }
        }
        ,
        initCalendar:function() {
            if(jQuery().fullCalendar) {
                var e=new Date,
                t=e.getDate(),
                a=e.getMonth(),
                i=e.getFullYear(),
                l= {}
                ;
                $("#calendar").width()<=400?($("#calendar").addClass("mobile"), l= {
                    left: "title, prev, next", center: "", right: "today,month,agendaWeek,agendaDay"
                }
                ):($("#calendar").removeClass("mobile"), l=App.isRTL()? {
                    right: "title", center: "", left: "prev,next,today,month,agendaWeek,agendaDay"
                }
                : {
                    left: "title", center: "", right: "prev,next,today,month,agendaWeek,agendaDay"
                }
                ),
                $("#calendar").fullCalendar("destroy"),
                $("#calendar").fullCalendar( {
                    disableDragging:!1, header:l, editable:!0, events:[ {
                        title: "All Day", start: new Date(i, a, 1), backgroundColor: App.getBrandColor("yellow")
                    }
                    , {
                        title: "Long Event", start: new Date(i, a, t-5), end: new Date(i, a, t-2), backgroundColor: App.getBrandColor("blue")
                    }
                    , {
                        title: "Repeating Event", start: new Date(i, a, t-3, 16, 0), allDay: !1, backgroundColor: App.getBrandColor("red")
                    }
                    , {
                        title: "Repeating Event", start: new Date(i, a, t+6, 16, 0), allDay: !1, backgroundColor: App.getBrandColor("green")
                    }
                    , {
                        title: "Meeting", start: new Date(i, a, t+9, 10, 30), allDay: !1
                    }
                    , {
                        title: "Lunch", start: new Date(i, a, t, 14, 0), end: new Date(i, a, t, 14, 0), backgroundColor: App.getBrandColor("grey"), allDay: !1
                    }
                    , {
                        title: "Birthday", start: new Date(i, a, t+1, 19, 0), end: new Date(i, a, t+1, 22, 30), backgroundColor: App.getBrandColor("purple"), allDay: !1
                    }
                    , {
                        title: "Click for Google", start: new Date(i, a, 28), end: new Date(i, a, 29), backgroundColor: App.getBrandColor("yellow"), url: "http://google.com/"
                    }
                    ]
                }
                )
            }
        }
        ,
        initCharts:function() {
            function e(e, t, a, i) {
                $('<div id="tooltip" class="chart-tooltip">'+i+"</div>").css( {
                    position: "absolute", display: "none", top: t-40, left: e-40, border: "0px solid #ccc", padding: "2px 6px", "background-color": "#fff"
                }
                ).appendTo("body").fadeIn(200)
            }
            if(jQuery.plot) {
                var t=[["02/2013",
                1500],
                ["03/2013",
                2500],
                ["04/2013",
                1700],
                ["05/2013",
                800],
                ["06/2013",
                1500],
                ["07/2013",
                2350],
                ["08/2013",
                1500],
                ["09/2013",
                1300],
                ["10/2013",
                4600]];
                if(0!=$("#site_statistics").size()) {
                    $("#site_statistics_loading").hide(),
                    $("#site_statistics_content").show();
                    var a=($.plot($("#site_statistics"), [ {
                        data:t, lines: {
                            fill: .6, lineWidth: 0
                        }
                        , color:["#f89f9f"]
                    }
                    , {
                        data:t, points: {
                            show: !0, fill: !0, radius: 5, fillColor: "#f89f9f", lineWidth: 3
                        }
                        , color:"#fff", shadowSize:0
                    }
                    ], {
                        xaxis: {
                            tickLength:0, tickDecimals:0, mode:"categories", min:0, font: {
                                lineHeight: 14, style: "normal", variant: "small-caps", color: "#6F7B8A"
                            }
                        }
                        , yaxis: {
                            ticks:5, tickDecimals:0, tickColor:"#eee", font: {
                                lineHeight: 14, style: "normal", variant: "small-caps", color: "#6F7B8A"
                            }
                        }
                        , grid: {
                            hoverable: !0, clickable: !0, tickColor: "#eee", borderColor: "#eee", borderWidth: 1
                        }
                    }
                    ), null);
                    $("#site_statistics").bind("plothover", function(t, i, l) {
                        if($("#x").text(i.x.toFixed(2)), $("#y").text(i.y.toFixed(2)), l) {
                            if(a!=l.dataIndex) {
                                a=l.dataIndex, $("#tooltip").remove();
                                l.datapoint[0].toFixed(2), l.datapoint[1].toFixed(2);
                                e(l.pageX, l.pageY, l.datapoint[0], l.datapoint[1]+" visits")
                            }
                        }
                        else $("#tooltip").remove(), a=null
                    }
                    )
                }
                if(0!=$("#site_activities").size()) {
                    var i=null;
                    $("#site_activities_loading").hide(),
                    $("#site_activities_content").show();
                    var l=[["DEC",
                    300],
                    ["JAN",
                    600],
                    ["FEB",
                    1100],
                    ["MAR",
                    1200],
                    ["APR",
                    860],
                    ["MAY",
                    1200],
                    ["JUN",
                    1450],
                    ["JUL",
                    1800],
                    ["AUG",
                    1200],
                    ["SEP",
                    600]];
                    $.plot($("#site_activities"), [ {
                        data:l, lines: {
                            fill: .2, lineWidth: 0
                        }
                        , color:["#BAD9F5"]
                    }
                    , {
                        data:l, points: {
                            show: !0, fill: !0, radius: 4, fillColor: "#9ACAE6", lineWidth: 2
                        }
                        , color:"#9ACAE6", shadowSize:1
                    }
                    , {
                        data:l, lines: {
                            show: !0, fill: !1, lineWidth: 3
                        }
                        , color:"#9ACAE6", shadowSize:0
                    }
                    ], {
                        xaxis: {
                            tickLength:0, tickDecimals:0, mode:"categories", min:0, font: {
                                lineHeight: 18, style: "normal", variant: "small-caps", color: "#6F7B8A"
                            }
                        }
                        , yaxis: {
                            ticks:5, tickDecimals:0, tickColor:"#eee", font: {
                                lineHeight: 14, style: "normal", variant: "small-caps", color: "#6F7B8A"
                            }
                        }
                        , grid: {
                            hoverable: !0, clickable: !0, tickColor: "#eee", borderColor: "#eee", borderWidth: 1
                        }
                    }
                    );
                    $("#site_activities").bind("plothover", function(t, a, l) {
                        if($("#x").text(a.x.toFixed(2)), $("#y").text(a.y.toFixed(2)), l&&i!=l.dataIndex) {
                            i=l.dataIndex, $("#tooltip").remove();
                            l.datapoint[0].toFixed(2), l.datapoint[1].toFixed(2);
                            e(l.pageX, l.pageY, l.datapoint[0], l.datapoint[1]+"M$")
                        }
                    }
                    ),
                    $("#site_activities").bind("mouseleave", function() {
                        $("#tooltip").remove()
                    }
                    )
                }
            }
        }
        ,
        initEasyPieCharts:function() {
            jQuery().easyPieChart&&($(".easy-pie-chart .number.transactions").easyPieChart( {
                animate: 1e3, size: 75, lineWidth: 3, barColor: App.getBrandColor("yellow")
            }
            ), $(".easy-pie-chart .number.visits").easyPieChart( {
                animate: 1e3, size: 75, lineWidth: 3, barColor: App.getBrandColor("green")
            }
            ), $(".easy-pie-chart .number.bounce").easyPieChart( {
                animate: 1e3, size: 75, lineWidth: 3, barColor: App.getBrandColor("red")
            }
            ), $(".easy-pie-chart-reload").click(function() {
                $(".easy-pie-chart .number").each(function() {
                    var e=Math.floor(100*Math.random());
                    $(this).data("easyPieChart").update(e), $("span", this).text(e)
                }
                )
            }
            ))
        }
        ,
        initSparklineCharts:function() {
            jQuery().sparkline&&($("#sparkline_bar").sparkline([8, 9, 10, 11, 10, 10, 12, 10, 10, 11, 9, 12, 11, 10, 9, 11, 13, 13, 12], {
                type: "bar", width: "100", barWidth: 5, height: "55", barColor: "#f36a5b", negBarColor: "#e02222"
            }
            ), $("#sparkline_bar2").sparkline([9, 11, 12, 13, 12, 13, 10, 14, 13, 11, 11, 12, 11, 11, 10, 12, 11, 10], {
                type: "bar", width: "100", barWidth: 5, height: "55", barColor: "#5c9bd1", negBarColor: "#e02222"
            }
            ), $("#sparkline_bar5").sparkline([8, 9, 10, 11, 10, 10, 12, 10, 10, 11, 9, 12, 11, 10, 9, 11, 13, 13, 12], {
                type: "bar", width: "100", barWidth: 5, height: "55", barColor: "#35aa47", negBarColor: "#e02222"
            }
            ), $("#sparkline_bar6").sparkline([9, 11, 12, 13, 12, 13, 10, 14, 13, 11, 11, 12, 11, 11, 10, 12, 11, 10], {
                type: "bar", width: "100", barWidth: 5, height: "55", barColor: "#ffb848", negBarColor: "#e02222"
            }
            ), $("#sparkline_line").sparkline([9, 10, 9, 10, 10, 11, 12, 10, 10, 11, 11, 12, 11, 10, 12, 11, 10, 12], {
                type: "line", width: "100", height: "55", lineColor: "#ffb848"
            }
            ))
        }
        ,
        initMorisCharts:function() {
            Morris.EventEmitter&&$("#sales_statistics").size()>0&&(dashboardMainChart=Morris.Area( {
                element:"sales_statistics", padding:0, behaveLikeLine:!1, gridEnabled:!1, gridLineColor:!1, axes:!1, fillOpacity:1, data:[ {
                    period: "2011 Q1", sales: 1400, profit: 400
                }
                , {
                    period: "2011 Q2", sales: 1100, profit: 600
                }
                , {
                    period: "2011 Q3", sales: 1600, profit: 500
                }
                , {
                    period: "2011 Q4", sales: 1200, profit: 400
                }
                , {
                    period: "2012 Q1", sales: 1550, profit: 800
                }
                ], lineColors:["#399a8c", "#92e9dc"], xkey:"period", ykeys:["sales", "profit"], labels:["Sales", "Profit"], pointSize:0, lineWidth:0, hideHover:"auto", resize:!0
            }
            ))
        }
        ,
        initChat:function() {
            var e=$("#chats"),
            t=$(".chats", e),
            a=$(".chat-form", e),
            i=$("input", a),
            l=$(".btn", a),
            o=function(a) {
                a.preventDefault();
                var l=i.val();
                if(0!=l.length) {
                    var o=new Date,
                    n=o.getHours()+":"+o.getMinutes(),
                    r="";
                    r+='<li class="out">',
                    r+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+'avatar1.jpg"/>',
                    r+='<div class="message">',
                    r+='<span class="arrow"></span>',
                    r+='<a href="#" class="name">Bob Nilson</a>&nbsp;',
                    r+='<span class="datetime">at '+n+"</span>",
                    r+='<span class="body">',
                    r+=l,
                    r+="</span>",
                    r+="</div>",
                    r+="</li>";
                    t.append(r);
                    i.val("");
                    var s=function() {
                        var t=0;
                        return e.find("li.out, li.in").each(function() {
                            t+=$(this).outerHeight()
                        }
                        ),
                        t
                    }
                    ;
                    e.find(".scroller").slimScroll( {
                        scrollTo: s()
                    }
                    )
                }
            }
            ;
            $("body").on("click", ".message .name", function(e) {
                e.preventDefault();
                var t=$(this).text();
                i.val("@"+t+":"), App.scrollTo(i)
            }
            ),
            l.click(o),
            i.keypress(function(e) {
                return 13==e.which?(o(e), !1): void 0
            }
            )
        }
        ,
        initDashboardDaterange:function() {
            jQuery().daterangepicker&&($("#dashboard-report-range").daterangepicker( {
                ranges: {
                    Today: [moment(), moment()], Yesterday: [moment().subtract("days", 1), moment().subtract("days", 1)], "Last 7 Days": [moment().subtract("days", 6), moment()], "Last 30 Days": [moment().subtract("days", 29), moment()], "This Month": [moment().startOf("month"), moment().endOf("month")], "Last Month": [moment().subtract("month", 1).startOf("month"), moment().subtract("month", 1).endOf("month")]
                },
                 locale: {
                    format: "MM/DD/YYYY", separator: " - ", applyLabel: "Apply", cancelLabel: "Cancel", fromLabel: "From", toLabel: "To", customRangeLabel: "Custom", daysOfWeek: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], firstDay: 1
                }
                , opens:App.isRTL()?"right":"left"
            }
            , function(e, t, a) {
                "0"!=$("#dashboard-report-range").attr("data-display-range")&&$("#dashboard-report-range span").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY"))
            }
            ), "0"!=$("#dashboard-report-range").attr("data-display-range")&&$("#dashboard-report-range span").html(moment().subtract("days", 29).format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY")), $("#dashboard-report-range").show())
        }
        ,
        initAmChart1:function() {
            if("undefined"!=typeof AmCharts&&0!==$("#dashboard_amchart_1").size()) {
                //town size es el tamaño del circulo
                //latitude es donde se posicionara la linea roja
                //latitude la posicion de la linea azul en el grafico
                var e=[ {
                    date: "2016-04-30", distance: 780, townName: "Solicidud", townSize: 10, latitude: 26, duration: 0
                }
                ,
                {
                    date: "2016-05-30", distance: 950, townName: "Solicidud 0001", townName2: "Solicidud 0001", townSize: 10, latitude: 25.83, duration: 1
                }
                ,
                {
                    date: "2016-06-30", distance: 386, townName: "Tallahassee", townSize: 7, latitude: 30.46, duration: 4
                }
                ,
                {
                    date: "2016-07-30", distance: 348, townName: "New Orleans", townSize: 10, latitude: 29.94, duration: 4
                }
                ,
                {
                    date: "2016-08-30", distance: 238, townName: "Solicidud 555", townName2: "Solicidud 555", townSize: 16, latitude: 29.76, duration: 3
                }
                ,
                {
                    date: "2016-09-30", distance: 218, townName: "Dalas", townSize: 17, latitude: 32.8, duration: 2
                }
                ,
                {
                    date: "2016-10-31", distance: 349, townName: "Oklahoma City", townSize: 11, latitude: 35.49, duration: 5
                }
                ,
                {
                    date: "2016-11-30", distance: 603, townName: "Kansas City", townSize: 10, latitude: 39.1, duration: 8
                }
                ,
                {
                    date: "2016-12-31", distance: 534, townName: "Solicidud 235423", townName2: "Solicidud 235423", townSize: 18, latitude: 39.74, duration: 10
                }
                ,
                {
                    date: "2017-01-31", townName: "Salt Lake City", townSize: 12, distance: 425, duration: 7, latitude: 40.75, alpha: .4
                }
                ,
                {
                    //town name es el nombre que se muestra al colocar el mouse sobre este dato
                    //townName2 es el nombre que se ve en el grafico
                    date: "2017-02-28", distance: 680, latitude: 36.1, duration: 7, townName: "Solicitud N 123", townName2: "Solicitud N 123", bulletClass: "lastBullet"
                }
                ,
                {
                    date: "2017-03-31"
                }
                ];
                AmCharts.makeChart("dashboard_amchart_1", {
                    type:"serial", fontSize:12, fontFamily:"Open Sans", dataDateFormat:"YYYY-MM-DD", dataProvider:e, addClassNames:!0, startDuration:1, color:"#6c7b88", marginLeft:0, categoryField:"date", 
                    categoryAxis: {
                        parseDates:!0, minPeriod:"MM", autoGridCount:!1, gridCount:50, gridAlpha:.1, gridColor:"#FFFFFF", axisColor:"#555555", dateFormats:[ {
                            period: "DD", format: "DD"
                        }
                        , {
                            period: "WW", format: "MMM DD"
                        }
                        , {
                            period: "MM", format: "MMM"
                        }
                        , {
                            period: "YYYY", format: "YYYY"
                        }
                        ]
                    }
                    , valueAxes:[ {
                        id: "a1", title: "Score", gridAlpha: 0, axisAlpha: 0 //Indicadores lado izquierdo
                    }
                    , {
                        id: "a2", position: "right", gridAlpha: 0, axisAlpha: 0, labelsEnabled: !1
                    }
                    , 
                    {
                        id:"a3", title:"Numero de solicitud", position:"right", gridAlpha:0, axisAlpha:0, inside:!0, duration:0//, durationUnits: 
//                                {
//                            DD: "d. ", hh: "h ", mm: "min", ss: ""
//                        }
                    }
                    ], graphs:[ {
                        id: "g1", valueField: "distance", title: "Promedio mes de solicitudes", type: "column", fillAlphas: .7, valueAxis: "a1", balloonText: "[[value]] miles", legendValueText: "[[value]] mi", legendPeriodValueText: "total: [[value.sum]] mi", lineColor: "#08a3cc", alphaField: "alpha"
                    }
                    , {
                        id: "g2", valueField: "latitude", classNameField: "bulletClass", title: "Numero Solicitudes", type: "line", valueAxis: "a2", lineColor: "#786c56", lineThickness: 1, legendValueText: "[[description]]/[[value]]", descriptionField: "townName", bullet: "round", bulletSizeField: "townSize", bulletBorderColor: "#02617a", bulletBorderAlpha: 1, bulletBorderThickness: 2, bulletColor: "#89c4f4", labelText: "[[townName2]]", labelPosition: "right", balloonText: "latitude:[[value]]", showBalloon: !0, animationPlayed: !0
                    }
                    , {
                        id: "g3", title: "Comportamiento cartera empresa", valueField: "duration", type: "line", valueAxis: "a3", lineAlpha: .8, lineColor: "#e26a6a", balloonText: "[[value]]", lineThickness: 1, legendValueText: "[[value]]", bullet: "square", bulletBorderColor: "#e26a6a", bulletBorderThickness: 1, bulletBorderAlpha: .8, dashLengthField: "dashLength", animationPlayed: !0
                    }
                    ], chartCursor: {
                        zoomable: !1, categoryBalloonDateFormat: "MM", cursorAlpha: 0, categoryBalloonColor: "#e26a6a", categoryBalloonAlpha: .8, valueBalloonsEnabled: !1
                    }
                    , legend: {
                        bulletType: "round", equalWidths: !1, valueWidth: 120, useGraphSettings: !0, color: "#6c7b88"
                    },
                    "language": "es",
                }
                )
            }
        }
        ,
        init:function() {
            this.initJQVMAP(),
            this.initCalendar(),
            this.initCharts(),
            this.initEasyPieCharts(),
            this.initSparklineCharts(),
            this.initChat(),
            this.initDashboardDaterange(),
            this.initMorisCharts(),
            this.initAmChart1()
        }
    }
}

();
App.isAngularJsApp()===!1&&jQuery(document).ready(function() {
    Dashboard.init()
}

);